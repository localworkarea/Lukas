.page--cake {
  background-color: var(--gray-bg);
}



.cake-hero {
  position: relative;
  z-index: 1;
  padding-top: 170px;
  padding-bottom: 40px;

  @media (min-width:toEm($mobileSmall)) {
    padding-top: 234px;
    padding-bottom: 90px;
  }

  // .cake-hero__bg
  &__bg {
    position: absolute;
    z-index: -1;
    inset: 0;
    max-height: 74%;

    // clip-path: polygon(0 0, 100% 0, 100% 71%, 0% 100%);
    img,
    video {
      @extend %ibg;
    }

  }

  // .cake-hero__container
  &__container {}

  // cake-hero__container--top
  &__container--top {
    position: relative;
    z-index: 1;
  }

  // cake-hero__container--bottom
  &__container--bottom {
   @extend %opacityHero;
   transition-delay: .8s !important;
  }

  // .cake-hero__title
  &__title {
    color: var(--white);
    text-transform: uppercase;
    @include adaptiveValue("font-size", 74, 56);

    @media (max-width:toEm($mobile)) {
      text-align: center;
    }
    opacity: 0;
      [data-fls-loaded] & {
        opacity: 1;
        transition: opacity .2s ease;
      }

    .ff-acc {
      display: block;
      line-height: 0.6;
      text-transform: lowercase;
      @include adaptiveValue("font-size", 63, 38);

      @extend %opacityHero;      
      transition-delay: .3s !important;
      @media (min-width:toEm($mobile)) {
        padding-left: 52px;
      }
    }
    
    .subword {
      transform: translateY(100%);
    }
    [data-fls-loaded] & {
      .subword {
        transition: transform .75s cubic-bezier(.22,.89,.34,.96), opacity .2s ease;
          transform: translateY(10%);
          transition-delay: calc(var(--index) * .05s);
      }
    }
  }

  // .cake-hero__marquee
  &__marquee {
    opacity: 0;
    &.--watcher-view {
      opacity: 1;
      transition: opacity .65s ease .5s;
    }
  }

  // .cake-hero__btn
  &__btn {
    min-width: 200px;
    position: relative;
    z-index: 5;

    
    @media (min-width:toEm(1200.98)){
      margin-top: -50px;   
    }
    @media (min-width:toEm($mobileSmall)) {
      margin-left: auto;
      min-width: 250px;
    }

    @media (max-width:toEm($mobileSmall)) {
      margin-inline: auto;
    }
  }
}

.marquee-cake {
  transform: rotate(-8deg);
  margin-block: 50px;
  position: relative;

  @media (min-width:toEm($mobileSmall)) {
    margin-block: 30px;
  }

  &::before {
    content: '';
    position: absolute;
    @include adaptiveValue("top", 200, 175);
    // top: calc(60% + 30px);
    left: 50%;
    transform: translate(-50%, 0%);
    width: 110%;
    height: 2px;
    background-color: var(--red);
    z-index: -1;

    @media (min-width:toEm($mobileSmall)) {
      height: 3px;
    }
  }

  // .marquee-cake__item
  &__item {
    @include adaptiveValue("max-width", 520, 368);
    transform: rotate(8deg);
  }

  // .marquee-cake__body
  &__body {
    position: relative;
    transform: scale(1.4);

    @media (max-width:toEm($mobileSmall)) {
      margin-bottom: 10px;
    }
  }

  // .marquee-cake__picture
  &__picture {
    position: relative;
    z-index: 1;

    img {
      @extend %ibg;
      object-fit: contain;
    }
  }

  // .marquee-cake__podium
  &__podium {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 0);
    width: 100%;
    height: 100%;
    aspect-ratio: 735/450;
    @extend %bgImage;
    background-image: url("@img/elements/podium-mb.png");

    @media (min-width:toEm($mobileSmall)) {
      background-image: url("@img/elements/podium.png");
    }
  }

  // .marquee-cake__title
  &__title {
    font-weight: 600;
    text-transform: uppercase;
    text-align: center;
    color: var(--gray);
    @include adaptiveValue("font-size", 24, 17);
  }
}

// === SECTION CAKE-DETAIL ==============================
.cake-detail {
  padding-bottom: 68px;

  // .cake-detail__container
  &__container {
    &.--view {
      .cake-detail__body {
        opacity: 1;
      }

      .info-cake {
        opacity: 1;
        transform: translateY(0%);
      }
    }

    .cake-detail__body,
    .info-cake {
      opacity: 0;
      transition: all .65s ease;
    }

    .info-cake {
      transform: translateY(20%);
    }
  }

  // .cake-detail__body
  &__body {
    position: relative;
    z-index: 1;
    @include adaptiveValue("margin-bottom", 140, 40);

  }

  // .cake-detail__list
  &__list {}

  // .cake-detail__info
  &__info {}

  // .cake-detail__bottom
  &__bottom {
    @media (min-width:toEm(600.98)) {
      display: grid;
      grid-template-columns: auto auto;
      align-items: center;
      gap: 20px;
      max-width: 988px;
      margin-inline: auto;
    }
  }

  // .cake-detail__title
  &__title {
    font-family: "MontserratAlternates", sans-serif;
    font-weight: 400;
    text-transform: uppercase;
    // line-height: 1.18;
    @include adaptiveValue("font-size", 42, 32);

    // span {
    //   color: var(--red);
    // }

    br {
      @media (min-width:toEm(600.98)) {
        display: none;
      }
    }
  
    .subword {
      transform: translateY(100%);
      transition: transform .55s cubic-bezier(.22,.89,.34,.96), opacity .2s ease;
      .--watcher-view & {
        @extend %splitTransformOpacity;
      }
    }

    @media (max-width: toEm(600.98)) {
      margin-bottom: 29px;
    }
  }

	// .cake-detail__btn--wr
	&__btn--wr {
    @extend %opacityWatcher;
    transition-delay: 0.5s;
	}

  // .cake-detail__btn
  &__btn {
    @include adaptiveValue("min-width", 300, 233);
  }
}


.list-detail {
  position: relative;
  left: 3px;
  padding-top: 20px;
  margin-inline: auto;
  max-width: 61%;

  &.--view {
    .list-detail__item {
      transform: translateY(0%);
    }

    .list-detail__btn {
      opacity: 1;
      pointer-events: all;
      transition: color .3s ease, text-shadow .3s ease, opacity .45s ease .45s;
    }
  }

  @media (min-width:toEm($mobileSmall)) {
    left: 8px;
    max-width: 33%;
  }

  // .list-detail__img
  &__img {
    transition: transform .45s ease .1s;

    img {
      width: 100%;
      height: auto;
    }
  }

  // .list-detail__item
  &__item {
    position: relative;
    transition: transform .55s ease;

    &.--hover {
      .list-detail__img {
        transform: scale(1.05);
        transition-delay: 0s;
      }
    }
  }

  // .list-detail__btn
  &__btn {
    position: absolute;
    z-index: 2;
    font-weight: 400;
    outline: none;
    text-transform: uppercase;
    line-height: 1.18;
    text-align: left;
    @include adaptiveValue("font-size", 20, 10, 0, 1440.98, 480.98);
    transition: color .3s ease, text-shadow .3s ease, opacity .15s ease 0s;

    opacity: 0;
    pointer-events: none;



    span {
      @media (max-width:toEm($mobileSmall)) {
        display: inline-block;
        max-width: 77px;
      }
    }

    svg {
      position: absolute;
      height: auto;

      @media (min-width:toEm(820.98)) {
        pointer-events: none;
      }

      path {
        transition: stroke .3s ease;
      }
    }

    // @media (any-hover: hover) {
    //   &:hover {
    &.--hover-el {
      color: var(--red);
      text-shadow:
        0 0 0.6px currentColor,
        0 0 0.6px currentColor,
        0 0 0.6px currentColor,
        0 0 0.6px currentColor;

      svg {
        path {
          stroke: var(--red);
        }
      }
    }
    //   }
    // }

    &:active {
      color: var(--red);
      text-shadow:
        0 0 0.6px currentColor,
        0 0 0.6px currentColor,
        0 0 0.6px currentColor,
        0 0 0.6px currentColor;

      svg {
        path {
          stroke: var(--red);
        }
      }
    }

    &:focus-visible {
      @media (min-width:toEm($tablet)) {
        color: var(--red);
        text-shadow:
          0 0 0.6px currentColor,
          0 0 0.6px currentColor,
          0 0 0.6px currentColor,
          0 0 0.6px currentColor;

        svg {
          path {
            stroke: var(--red);
          }
        }
      }
    }
  }

  // .list-detail__item--1
  &__item--1 {
    z-index: 8;

    transform: translateY(35%);



    .list-detail__btn {
      &:nth-child(1) {
        left: -1%;
        top: -12%;
        transform: translate(0%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          top: 0%;
          transform: translate(-83%, 85%);
        }

        svg {
          top: 155%;
          right: 25%;

          width: 60%;
          max-width: 82px;

          @media (min-width:toEm($mobileSmall)) {
            width: 39%;
            top: 109%;
            right: -13%;
          }
        }

        span {
          @media (max-width:toEm($mobileSmall)) {
            max-width: 100%;
          }
        }
      }

      &:nth-child(2) {
        right: -31%;
        top: -33%;
        transform: translate(0%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          right: 0%;
          top: 20%;
          transform: translate(98%, 14%);
        }

        svg {
          max-width: 118px;

          width: 88%;
          top: 149%;
          right: 36%;
          transform: scaleX(-1) rotate(-135deg);

          @media (min-width:toEm($mobileSmall)) {
            width: 78%;
            top: -52%;
            right: 69%;
            transform: scaleX(1) rotate(0deg);
          }
        }

      }

      &:nth-child(3) {
        left: 10%;
        top: 12%;
        transform: translate(-100%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          top: 55%;
          transform: translate(-104%, 0%);
        }

        svg {
          max-width: 64px;

          width: 45%;
          top: 140%;
          right: 27%;
          transform: rotate(22deg);

          @media (min-width:toEm($mobileSmall)) {
            width: 27%;
            top: 107%;
            right: -2%;
            transform: rotate(0deg);
          }
        }
      }
    }
  }

  // .list-detail__item--2
  &__item--2 {
    z-index: 7;
    // margin-top: -23%;
    margin-top: -3%;
    transform: translateY(0%);



    .list-detail__btn {
      &:nth-child(1) {
        left: 0%;
        top: 65%;
        transform: translate(-94%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          top: 65%;
          transform: translate(-108%, 0%);
        }

        svg {
          max-width: 100px;

          width: 70%;
          top: -132%;
          right: 12%;

          @media (min-width:toEm($mobileSmall)) {
            width: 44%;
            top: -216%;
            right: -8%;
          }
        }
      }

      &:nth-child(2) {
        right: -6%;
        top: -44%;
        transform: translate(100%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          right: 0%;
          top: -10%;
          transform: translate(131%, 0%);
        }

        svg {
          max-width: 85px;

          width: 60%;
          top: 114%;
          left: -12%;

          @media (min-width:toEm($mobileSmall)) {
            width: 48%;
            top: 114%;
            left: -29%;
          }
        }
      }
    }

    .list-detail__img {
      img {
        transform: rotate(-1deg);
      }
    }
  }

  // .list-detail__item--3
  &__item--3 {
    z-index: 5;
    margin-top: -15%;
    margin-top: -1.5%;
    transform: translateY(-56%);


    .list-detail__btn {
      &:nth-child(1) {
        right: -3%;
        top: 85%;
        transform: translate(100%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          right: 0%;
          top: 0%;
          transform: translate(124%, 0%);
        }

        svg {
          max-width: 84px;

          width: 80%;
          top: -110%;
          left: -25%;
          transform: scaleY(-1);

          @media (min-width:toEm($mobileSmall)) {
            width: 40%;
            top: 107%;
            left: -32%;
            transform: scaleY(1);
          }
        }
      }
    }

    .list-detail__img {
      max-width: 90%;
      margin-inline: auto;

    }
  }

  // .list-detail__item--4
  &__item--4 {
    z-index: 6;
    // margin-top: -24%;
    margin-top: -1.5%;
    transform: translateY(-115%);


    .list-detail__btn {
      &:nth-child(1) {
        left: 3%;
        top: 72%;
        transform: translate(-100%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          top: 23%;
          transform: translate(-122%, 0%);

        }

        svg {
          max-width: 102px;

          width: 65%;
          top: -35%;
          right: 15%;
          transform: scaleY(-1);

          @media (min-width:toEm($mobileSmall)) {
            width: 48%;
            top: 40%;
            right: -19%;
            transform: scaleY(1);
          }
        }
      }
    }
  }

  // .list-detail__item--5
  &__item--5 {
    z-index: 4;
    // margin-top: -16%;
    margin-top: -1%;
    transform: translateY(-146%);

    .list-detail__img {
      img {
        transform: rotate(-1deg);
      }
    }
  }

  // .list-detail__item--6
  &__item--6 {
    z-index: 2;
    // margin-top: -20%;
    margin-top: -1.5%;
    transform: translateY(-270%);

    .list-detail__btn {
      &:nth-child(1) {
        left: auto;
        right: 0%;
        top: -20%;
        transform: translate(101%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          right: auto;
          top: -2%;
          transform: translate(-101%, 0%);
        }

        svg {
          max-width: 99px;

          width: 54%;
          top: 110%;
          left: -15%;
          right: auto;
          transform: scaleX(-1);

          @media (min-width:toEm($mobileSmall)) {
            width: 48%;
            top: 106%;
            left: auto;
            right: -10%;
            transform: scaleX(1);
          }
        }
      }
    }

    .list-detail__img {
      max-width: 88%;
      margin-inline: auto;
    }
  }

  // .list-detail__item--7
  &__item--7 {
    z-index: 3;
    // margin-top: -19%;
    margin-top: -2%;
    transform: translateY(-276%);


    .list-detail__btn {
      &:nth-child(1) {
        left: 3%;
        top: -83%;
        transform: translate(-100%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          top: 8%;
          transform: translate(-130%, 0%);
        }

        svg {
          max-width: 119px;

          width: 88%;
          top: 152%;
          right: 5%;
          transform: scale(-1) rotate(31deg);

          @media (min-width:toEm($mobileSmall)) {
            width: 56%;
            top: 61%;
            right: -28%;
            transform: scale(1) rotate(0deg);
          }
        }
      }
    }
  }

  // .list-detail__item--8
  &__item--8 {
    z-index: 1;
    transform: translateY(-292%);
    // margin-top: -15%;
    margin-top: -1%;


    .list-detail__btn {
      &:nth-child(1) {
        left: 3%;
        top: 79%;
        transform: translate(-100%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          left: 0%;
          top: 46%;
          transform: translate(-112%, 0%);
        }

        svg {
          max-width: 126px;

          width: 80%;
          top: -145%;
          right: 12%;
          transform: rotate(-17deg);

          @media (min-width:toEm($mobileSmall)) {
            width: 56%;
            top: -154%;
            right: -10%;
            transform: rotate(0deg);
          }
        }
      }

      &:nth-child(2) {
        right: 0%;
        top: 31%;
        transform: translate(124%, 0%);

        @media (min-width:toEm($mobileSmall)) {
          right: 0%;
          top: 31%;
          transform: translate(124%, 0%);
        }

        svg {
          max-width: 103px;

          width: 58%;
          top: 132%;
          left: -28%;

          @media (min-width:toEm($mobileSmall)) {
            width: 58%;
            top: 132%;
            left: -28%;
          }
        }
      }
    }

    &::before {
      content: '';
      position: absolute;
      z-index: -1;
      bottom: 0px;
      left: 72%;
      transform: translateX(-50%);
      width: 80%;
      aspect-ratio: 397/70;
      background-color: rgba(180, 163, 157, 1);
      filter: blur(11px);
      border-radius: 50%;
      pointer-events: none;
    }

    .list-detail__img {
      img {
        transform: rotate(-1deg);
      }
    }
  }


}

[data-info-subel] {
  .info-cake__img,
  .info-cake__item {
    opacity: 0;
    transition: opacity .3s ease;
    &.--active {
      opacity: 1;
    }
  }
}


.info-cake {
  position: relative;

  @media (min-width:toEm($tablet)) {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  @media (max-width:toEm($tablet)) {
    display: grid;
    grid-template-columns: auto auto;
    column-gap: 20px;
  }

	// .info-cake__bg
	&__bg {
    display: inline-block;
    position: absolute;
    pointer-events: none;
    z-index: 10;
    span {
      display: inline-block;
      width: 100%;
      height: 100%;
      @extend %bgImage;
    }
    &.info-cake__bg--0 {
      span {
        @media (min-width:toEm($tablet)) {
          background-image: url("@img/elements/el-4.png");
        }
      }
      @media (min-width:toEm($tablet)) {
        bottom: 0%;
        right: 0%;
        width: 346px;
        aspect-ratio: 346/451;
        transform: translate(78%, -1%) rotate(1deg);
      }
      @media (max-width:toEm($tablet)){
        display: none;
      }
    }
	}

	// .info-cake__bg--1
	&__bg--1 {
    top: 0%;
    right: 0%;
	}
  // .info-cake__bg--2
	&__bg--2 {
  }

  // .info-cake__images
  &__images {
    position: relative;
    @media (min-width:toEm($tablet)) {
      position: absolute;
    }

  }

  // .info-cake__images--1
  &__images--1 {
    @include adaptiveValue("max-width", 277, 152);
    aspect-ratio: 277/311;

    @media (min-width:toEm($tablet)) {
      left: 0;
      top: 13%;
      transform: translate(-63%, 0%) rotate(-15deg);
    }

    @media (max-width:toEm($tablet)) {
      grid-column: 1/2;
      grid-row: 1/2;
      transform: translate(-36%, 0%) rotate(-15deg);
      margin-top: 30px;
    }

    .info-cake__bg--1 {
      transform: translate(28%, -18%) rotate(62deg);
      width: 66%;
      aspect-ratio: 183/68;
      span {
        background-image: url("@img/elements/el-1.png");
      }
    }

    .info-cake__bg--2 {
      @media (min-width:toEm($tablet)){
         display: none; 
      }
      @media (max-width:toEm($tablet)){
        bottom: 0%;
        left: 0%;
        transform: translate(-33%, 51%) rotate(-7deg) scaleX(-1);
        width: 110%;
        aspect-ratio: 313/145;
        span {
          background-image: url("@img/elements/el-3.png");
        }
      }
    }

    .info-cake__img {
      aspect-ratio: 277/311;
    }
  }

  // .info-cake__images--2
  &__images--2 {
    @include adaptiveValue("max-width", 286, 179);
    aspect-ratio: 286/196;

    .info-cake__bg--1 {
      width: 72%;
      aspect-ratio: 206/197;
      span {
        background-image: url("@img/elements/el-2.png");
      }

      @media (min-width:toEm($tablet)) {
        transform: translate(17%, -70%) rotate(-6deg);
      }

      @media (max-width:toEm($tablet)) {
        right: auto;
        left: 0%;
        transform: translate(-61%, -10%) rotate(-6deg);
      }
    }

    .info-cake__bg--2 {
      span {
        @media (min-width:toEm($tablet)){
          background-image: url("@img/elements/el-3.png");
        }
      }
      @media (min-width:toEm($tablet)) {
        bottom: 0%;
        left: 0%;
        width: 110%;
        aspect-ratio: 313/145;
        transform: translate(-10%, 127%) rotate(-33deg) scaleX(-1);
      }
      @media (max-width:toEm($tablet)){
        display: none;
      }
    }

    @media (min-width:toEm($tablet)) {
      left: 0%;
      top: 54%;
      transform: translate(-62%, 0%) rotate(7deg);
    }

    @media (max-width:toEm($tablet)) {
      grid-column: 2/3;
      grid-row: 5/6;
      transform: translate(22%, -3%) rotate(7deg);
    }

    .info-cake__img {
      aspect-ratio: 286/196;
    }
  }

  // .info-cake__images--3
  &__images--3 {
    @include adaptiveValue("max-width", 234, 145);
    aspect-ratio: 237/356;

    .info-cake__bg--1 {
      span {
        background-image: url("@img/elements/el-3.png");
      }
      width: 132%;
      aspect-ratio: 313/145;
      transform: translate(71%, -10%) rotate(3deg);
    }

    @media (min-width:toEm($tablet)) {
      right: 0%;
      top: 7%;
      transform: translate(59%, 0%) rotate(-15deg);
    }

    @media (max-width:toEm($tablet)) {
      grid-column: 2/3;
      grid-row: 1/2;
      transform: translate(40%, 28%) rotate(-15deg);
    }

    .info-cake__img {
      aspect-ratio: 237/356;
    }
  }

  // .info-cake__img
  &__img {}

  &__img,
  &__item {
    position: absolute;
    top: 0;
    left: 0;

    &:nth-child(1) {
      position: relative;
    }
  }


  // .info-cake__list
  &__list {
    @media (min-width:toEm($tablet)) {
      position: absolute;
      top: 53.5%;
      left: 70%;
      width: 30.5vw;
      max-width: 550px;
    }

    @media (max-width:toEm($tablet)) {
      grid-column: 1/3;
      grid-row: 2/3;
      position: relative;
      z-index: 2;
      padding-block: 30px;
    }
  }

  // .info-cake__item
  &__item {
    @media (max-width:toEm($tablet)) {
      display: none;
      position: relative;

      &.--active {
        display: block;
      }
    }
  }

  // .info-cake__title
  &__title {
    font-family: "MontserratAlternates", sans-serif;
    font-weight: 400;
    text-transform: uppercase;
    line-height: 1.18;
    margin-bottom: 16px;
    @include adaptiveValue("font-size", 40, 32);

    @media (max-width:toEm($tablet)) {
      max-width: 65%;
    }

    @media (max-width:toEm($mobileSmall)) {
      max-width: 79%;
    }
  }

  // .info-cake__txt
  &__txt {
    text-wrap: balance;

    @media (min-width:toEm($tablet)) {
      max-width: 65%;
    }

  }
}


// SECTION CAKE-HISTORY ============================

%imageBgSection {
  position: absolute;
  inset: 0;
  z-index: -1;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background-color: var(--red);
    opacity: 0.84;
  }
}

.cake-history {

  // .cake-history__top
  &__top {
    position: relative;
    z-index: 1;
    color: var(--white);
    margin-top: 122px;

    @media (min-width:toEm(700.98)) {
      margin-top: 84px;
      padding-bottom: 80px;
    }

    .cake-history__container {
      @media (min-width:toEm(700.98)) {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      @media (max-width: toEm(700.98)) {
        position: relative;
        top: -122px;
        margin-bottom: -65px;
      }
    }
  }

  // .cake-history__bg
  &__bg {
    @extend %imageBgSection;
  }

  // .cake-history__container
  &__container {}

  // .cake-history__body
  &__body {

    padding-top: 40px;

    @media (min-width:toEm(700.98)) {
      align-self: flex-end;
      padding-bottom: 120px;
      order: 1;
    }

    @media (min-width:toEm($mobileSmall)) {
      max-width: 420px;
    }
  }

  // .cake-history__title
  &__title {
    .word {
      line-height: 0.9;
    }
    @extend %splitTransformOpacityWatcher;
    @include adaptiveValue("font-size", 50, 25);
    line-height: 1.12;

    &:not(:last-child) {
      @include adaptiveValue("margin-bottom", 30, 18);
    }
  }

  // .cake-history__text
  &__text {
    line-height: 1.23;
    text-wrap: balance;

    @extend %opacityWatcher;
    transition-delay: 0.3s;

    p {
      &:not(:last-child) {
        margin-bottom: 18px;
      }
    }
  }

  // .cake-history__pictures
  &__pictures {
    @media (min-width:toEm(700.98)) {
      order: 2;
    }

    // margin-top: -122px;
    @media (min-width:toEm(700.98)) {
      margin-top: -84px;
    }
  }

  // .cake-history__img
  &__img {
    @extend %transitionClipPathEase;
    img {
      transition-duration: 1s;
      aspect-ratio: 558/666;
    }
  }

  // .cake-history__subtext
  &__subtext {
    @include adaptiveValue("font-size", 63, 38);
    transform: rotate(-8deg);
    margin-top: -15px;
    line-height: 0.75;

    @media (min-width:toEm(700.98)) {
      margin-top: -45px;
    }

    p {
      max-width: max-content;
      margin-left: auto;

      @media (min-width:toEm(1200.98)) {
        margin-right: -30px;
      }

      @media (max-width: toEm(1200.98)) {
        margin-right: 20px;
      }
    }
  }

  // .cake-history__container--big
  &__container--big {
    position: relative;
    z-index: 2;
  }

  // .cake-history__items
  &__items {}

  // .cake-history__marquee
  &__marquee {}

  // .cake-history__marquee--rect
  &__marquee--rect {}
}



.items-history {
  @include adaptiveValue("padding-top", 92, 50);

  @media (max-width: toEm(700.98)) {
    margin-top: 65px;
  }

  @media (min-width:toEm(1024.98)) {
    gap: 30px;
  }

  @media (max-width: toEm(1024.98)) and (min-width: toEm(820.98)) {
    gap: 10px;
  }

  @media (min-width:toEm(820.98)) {
    display: grid;
    grid-template-columns: 36% 1fr 36%;
    margin-inline: -25px;
  }

  img {
    @extend %ibg;
    object-fit: contain;
  }

  // .items-history__title
  &__title {
    @include adaptiveValue("font-size", 30, 24, 0, 1440.98, 1200);
    text-transform: uppercase;
    line-height: 1.18;
    font-weight: 500;

    @extend %opacityWatcher;
     transition-duration: .8s;
    transition-delay: 0.3s;

    span {
      display: block;
      color: var(--red);
    }

    &:not(:last-child) {
      margin-bottom: 23px;
    }
  }

  // .items-history__text
  &__text {
     @extend %opacityWatcher;
     transition-duration: .8s;
      transition-delay: 0.45s;
    text-wrap: balance;

    @media (max-width:toEm($mobileSmall)) {
      max-width: 80%;
    }
  }

  // .items-history__item 
  &__item {
    position: relative;

    // .items-history__item--img {}
    &--img {
      img {
        transition-duration: 1.5s;
      }
      &.item--1 {
        @extend %transitionClipPathEase;
        img {
          aspect-ratio: 934/996;
        }
      }
      &.item--2 {
        @extend %transitionClipPathEase2;
        img {
          aspect-ratio: 513/479;
        }
      }
      &.item--4 {
        @extend %transitionClipPathEase;
        img {
          aspect-ratio: 726/570;
        }
      }
      &.item--6 {
        @extend %transitionClipPathEase2;
        img {
          aspect-ratio: 780/760;
        }
      }
      &.item--8 {
        @extend %transitionClipPathEase;
        img {
          aspect-ratio: 1317/654;
        }
      }
    }
    
    // .items-history__item--block {}
    &--block {
      padding-block: 40px;

      
      @media (max-width: toEm(820.98)) {
        margin-inline: auto;
      }
      
      @media (min-width:toEm($mobileSmall)) {
        max-width: 78%;
        align-self: center;
      }
    }
    
    &.item--1 {
      @media (min-width:toEm(820.98)) {
        grid-column: 1/3;
        grid-row: 1/3;
      }
      
      @media (max-width: toEm(820.98)) {
        margin-inline: -80px;
      }
    }
    
    &.item--2 {
      @media (max-width: toEm(820.98)) {
        display: none;
      }
    }

    &.item--3 {
      @media (min-width:toEm(820.98)) {
        top: -10%;
        margin-left: 30px;
      }
    }

    &.item--4 {
      @media (min-width:toEm(820.98)) {
        grid-column: 2/4;
        grid-row: 3/4;
        max-width: 80%;
        width: 100%;
        justify-self: center;
        margin-top: -15%;
        margin-bottom: -4%;
        left: -5%;
      }
    }

    &.item--5 {
      @media (min-width:toEm(820.98)) {
        top: -5%;
        margin-left: auto;
        max-width: 65%;
      }
    }

    &.item--6 {
      @media (min-width:toEm(820.98)) {
        grid-column: 1/3;
        grid-row: 4/5;
        max-width: 82%;
        width: 100%;
        justify-self: flex-end;
        margin-right: 30px;
        margin-top: -10%;
        margin-bottom: -35%;
      }
    }

    &.item--7 {
      @media (min-width:toEm(820.98)) {
        max-width: 420px;
      }
    }

    &.item--8 {
      @media (min-width:toEm(820.98)) {
        grid-column: 1/4;
        grid-row: 5/6;
        justify-self: center;
        max-width: 85%;
        width: 100%;
      }

      @media (max-width: toEm(820.98)) {
        margin-inline: -60px;
      }
    }
  }
}



.marquee-history {
  position: relative;
  z-index: 1;
  padding-block: 25px 100px;
  background-color: var(--red);
  
  // overflow: hidden;
  @media (min-width:toEm($mobileSmall)) {
    margin-top: 50px;
    padding-block: 50px 152px;
  }

  .marquee-cake {
    position: relative;

    &::after {
      content: '';
      position: absolute;
      pointer-events: none;
      width: 120%;
      height: 200%;
      left: 50%;
      top: 0;
      transform: translate(-50%, -65%);
      z-index: -2;
      background-color: var(--gray-bg);
    }

    &::before {
      @media (max-width: toEm(820.98)) {
        transform: translate(-50%, -30px);
      }
    }

    .marquee-cake__title--2 {
      position: absolute;
      left: 50%;
      bottom: 23%;

      transform: translate(-25%, 0%) rotate(-8deg);

      color: var(--white);
      @include adaptiveValue("font-size", 36, 25);
      line-height: 0.7;
      max-width: max-content;
    }
  }


  // .marquee-history__container
  &__container {}

  // .marquee-history__txt
  &__txt {
    @include adaptiveValue("font-size", 50, 35);
    color: var(--white);
    line-height: 1.18;
    position: relative;
    max-width: max-content;
    margin-left: auto;
    padding-right: 50px;

    //  margin-right: -50px;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      transform: translate(0%, -50%);
      @extend %bgImage;
      background-image: url("@img/icons/arrow-a.svg");
      width: 64px;
      aspect-ratio: 64/69;
    }
  }
}

.marquee-rect {
  position: relative;
  z-index: 2;
  @include adaptiveValue("margin-top", -80, -40);

  // .marquee-rect__item
  &__item {
    @include adaptiveValue("width", 421, 211);
    @include adaptiveValue("margin-inline", 10, 5);

    img {
      aspect-ratio: 421/297;
      @include adaptiveValue("border-radius", 20, 10);
    }
  }
}


// === SECTION  CAKE-FORMAT ===============================
.cake-format {

  // .cake-format__container
  &__container {
    &.top {
      @include adaptiveValue("padding-block", 100, 40);
    }
  }

  // .cake-format__head
  &__head {
    display: grid;
    grid-template-columns: 1fr 75% 1fr;
    align-items: center;
    max-width: calc(100% - 40px);
    margin-inline: auto;

    @media (min-width:toEm($mobileSmall)) {
      grid-template-columns: 1fr auto 1fr;
      gap: 40px;
    }

    &:before,
    &:after {
      content: '';
      height: 1px;
      width: 100%;
      background-color: var(--red);

      @media (min-width:toEm($mobileSmall)) {
        height: 2px;
      }
    }
  }



  // .cake-format__title
  &__title {
    text-align: center;
    font-family: "MontserratAlternates", sans-serif;
    font-weight: 400;
    @include adaptiveValue("font-size", 40, 22);

    @extend %splitTransformOpacityWatcher;
    .subword {
      .--watcher-view & {
        transform: translateY(-8%);
      }
    }

    // @media (max-width:toEm($mobileSmall)) {
      // line-height: 1.18;
    // }
  }

  // .cake-format__slider
  &__slider {
    position: relative;
    overflow: visible !important;

    @media (max-width:toEm(1350.98)) {
      max-width: 80%;
      margin-inline: auto;
    }
  }

  // .cake-format__wrapper
  &__wrapper {}

  // .cake-format__slide
  &__slide {
    @media (min-width:toEm($mobileSmall)) {
      opacity: 0;
      transition: opacity .45s ease;
      pointer-events: none;

      &.swiper-slide-prev,
      &.swiper-slide-active,
      &.swiper-slide-next {
        opacity: 1;
        pointer-events: all;
      }
    }

    @media (max-width:toEm($mobileSmall)) {

      &.swiper-slide-prev,
      &.swiper-slide-next {
        .cake-format__img {
          img {
            filter: blur(4px);
          }
        }
      }

      &.swiper-slide-active {
        .cake-format__img {
          img {
            transition-delay: 0s;
          }
        }
      }
    }
  }

  // .cake-format__slide-title
  &__slide-title {
    @include adaptiveValue("font-size", 20, 12);
    text-align: center;
    text-transform: uppercase;
  }

  // .cake-format__img
  &__img {
    @extend %beforeHearts;
    cursor: pointer;
    &:before {
      width: 100%;
    }
    @media (any-hover: hover) {
      &:hover {
        &::before {
          transform: translate(-50%, -50%) scale(1);
        }
      }
    }

    .swiper-slide-active & {
      @media (max-width:toEm($mobileSmall)){
        &::before {
          transform: translate(-50%, -50%) scale(1);
          transition-delay: 0.3s;
        }
      }
    }
    img {
      aspect-ratio: 381/354;
      object-fit: contain;
      transition: filter .3s ease .3s, transform .65s ease;
    }
  }

  // .cake-format__button
  &__button {
    position: absolute;
    top: 50%;


    @include adaptiveValue("width", 74, 36);
    aspect-ratio: 1;
    display: grid;
    place-items: center;
    border-radius: 50%;

    transition: background-color .3s ease;

    svg {
      width: 100%;
      height: auto;

      path {
        transition: fill .3s ease;
      }
    }

    @media (any-hover: hover) {
      &:hover {
        background-color: var(--red);

        svg {
          path {
            fill: var(--white);
          }
        }
      }
    }

    &:active {
      background-color: var(--red);

      svg {
        path {
          fill: var(--white);
        }
      }
    }

    &.swiper-button-prev {
      left: 0;
      transform: translate(-50%, -50%);

      @media (min-width:toEm($mobileSmall)) {
        transform: translate(-100%, -50%);
      }
    }

    &.swiper-button-next {
      right: 0;
      transform: translate(50%, -50%);

      @media (min-width:toEm($mobileSmall)) {
        transform: translate(100%, -50%);
      }
    }

  }

  // .cake-format__dessert
  &__dessert {}
}

%pddBlock96-45 {
  @include adaptiveValue("padding-block", 96, 45);
}

.dessert-cake {
  position: relative;
  z-index: 1;
  @extend %pddBlock96-45;
  color: var(--white);

  // .dessert-cake__bg
  &__bg {
    @extend %imageBgSection;

    img {
      object-position: top;
    }
  }

  // .dessert-cake__container
  &__container {}

  // .dessert-cake__block
  &__block {
    font-family: "MontserratAlternates", sans-serif;
    font-weight: 400;
    // line-height: 1.2;
    @include adaptiveValue("font-size", 53, 22);
    max-width: 95%;

    // text-wrap: balance;
    @media (min-width:toEm($mobileSmall)) {
      max-width: 86%;
    }
  }

  // .dessert-cake__txt
  &__txt {
     @extend %splitTransformOpacityWatcher;
     	.subword {
	    	.--watcher-view & {
	    		transform: translateY(-8%);
	    	}
	    }
  }

  // .dessert-cake__img
  &__img {
    display: inline-block;
    overflow: hidden;
    &.img--1 {
      img {
        @include adaptiveValue("max-width", 223, 91);
        aspect-ratio: 223/50;
        transition-delay: 0.15s;
      }
    }
    
    &.img--2 {
      img {
        @include adaptiveValue("max-width", 194, 79);
        aspect-ratio: 194/50;
        transition-delay: 0.3s;
      }
    }

    &.img--dymanic {
      @media (max-width:toEm($mobileSmall)) {
        display: none;
      }
    }

    img {
      width: 100%;
      height: auto;
      // @extend %opacityWatcher;
      transition: transform .65s ease, opacity .3s ease;
      transform: translate(0, 100%);
      opacity: 0;
      .--watcher-view & {
        opacity: 1;
        transform: translate(0%,0);
      }
    }
  }
}




// SECTION == CAKE-CATALOG ====================================
.cake-catalog {
  @extend %pddBlock96-45;
  position: relative;
  z-index: 1;

  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 70%);
    aspect-ratio: 1440/82;
    @extend %bgImage;
    background-image: url("@img/elements/ellipse.svg");
    background-size: contain;
    width: 100%;

    @media (min-width:toEm($mobileSmall)) {
      transform: translate(-50%, 40%);
    }
  }

  // .cake-catalog__container
  &__container {}

  // .cake-catalog__head
  &__head {
    @include adaptiveValue("margin-bottom", 44, 37);
    text-wrap: balance;
    .cake-format__title {
      text-wrap: auto;
    }
  }

  // .cake-catalog__list
  &__list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    justify-items: center;
    gap: 32px 5px;

    @media (min-width:toEm($mobileSmall)) {
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
    }
  }

  // .cake-catalog__item
  &__item {

  }

  // .cake-catalog__link
  &__link {

    opacity: 0;
    transform: translate(0,50%);
    transition: opacity .45s ease, transform .75s ease;
    .--watcher-view & {
      opacity: 1;
      transform: translate(0%);
    }


    @extend %beforeHearts;

    img {
      @include adaptiveValue("max-width", 235, 134);
      object-fit: contain;
      margin-bottom: 10px;
      transition: transform .45s ease;
      aspect-ratio: 235/224;
      @media (min-width:toEm($mobileSmall)) {
        margin-bottom: 5px;
      }
    }

    h3 {
      text-align: center;
      text-transform: uppercase;
      line-height: 1.18;
      @include adaptiveValue("font-size", 20, 12);
    }

    @media (any-hover: hover) {
      &:hover {
        img {
          transform: scale(1.05);
        }

        &::before {
          transform: translate(-50%, -50%) scale(1);
        }
      }
    }

    &:active {
      img {
        transform: scale(1.05);
      }

      &::before {
        transform: translate(-50%, -50%) scale(1);
      }

    }
  }
}


// ===== !!!!! category-cake и catalog-cake вынес как отдельные блоки custom. Для страницы page--cake оставил чтобы не было путанцицы. По хорошему попросить вордпресс разработчика добавить data-fls- атрибуты и обновить css. Только после єтого удалить этот CSS. Также проверить атрибуты на странице

// == CATEGORY-CAKE =============
.category-cake {
  @extend %pddBlock96-45;
  position: relative;
  z-index: 1;

  // .category-cake__container
  &__container {}

  // .category-cake__list
  &__list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    justify-items: center;
    gap: 30px 15px;

    @media (min-width:toEm(700.98)) {
      gap: 15px;
      grid-template-columns: repeat(4, 1fr);
    }
  }

  // .category-cake__item
  &__item {}

  // .category-cake__picture
  &__picture {

    @extend %beforeHearts;
    margin-bottom: 5px;
    &::before{
      width: 100%;
    }

    img {
      @extend %ibg;
      object-fit: contain;
      transition: transform .45s ease;
    }

    @media (any-hover: hover) {
      &:hover {
        &::before {
          transform: translate(-50%, -50%) scale(1);
        }
        img {
          transform: translate(0,-5%);
        }
      }
    }

    &:active {
      &::before {
        transform: translate(-50%, -50%) scale(1);
      }
        img {
          transform: translate(0,-5%);
        }
    }
  }

  // .category-cake__btn
  &__btn {
    max-width: 230px;
    margin-inline: auto;
  }
}


.catalog-cake {
  padding-top: 50px;
  margin-bottom: 50px;
		// .catalog-cake__container
		&__container {
		}

		// .catalog-cake__item
		&__item {
      position: relative;
      display: grid;
      grid-template-columns: auto 40% auto;
      justify-content: space-between;
      align-items: center;
      @include adaptiveValue("border-radius", 25, 19);
      background-color: var(--red);
      color: var(--white);
      padding-inline: 22px;
      padding-block: 27px;
      @media (min-width:toEm(1024.98)){
        padding-inline: 110px 80px;
        padding-block: 58px;
      }
      @media (min-width:toEm($mobileSmall)){
        gap: 20px;
        grid-template-columns: auto 33% auto;
      }
		}

		// .catalog-cake__title
		&__title {
      font-family: "MontserratAlternates", sans-serif;
      font-weight: 500;
      line-height: 1.18;
      @include adaptiveValue("font-size", 36, 18);
      @extend %splitTransformOpacityWatcher;
		}

		// .catalog-cake__picture
		&__picture {
      position: absolute;
      grid-column: 2/3;
      left: 50%;
      transform: translate(-60%,0%);
      width: 100%;
      max-width: 318px;
      min-width: 150px;
      @media (min-width:toEm($mobileSmall)){
        transform: translate(-50%,0%);
      }
      @media (max-width: toEm(374.98)){
        min-width: 100px;
      }
      img {
        @extend %ibg;
        object-fit: contain;
      }
		}

		// .catalog-cake__link
		&__link {
      grid-column: 3/4;
      flex: 0 0 auto;
      width: 32px;
      height: 32px;
      aspect-ratio: 1;
      border-radius: 50%;
      border: 1px solid var(--white);
      transition: all .3s ease;
      @media (min-width:toEm(600.98)){
        width: 74px;
        height: 74px;
        border-width: 2px;
      }
      svg {
        width: 100%;
        height: auto;
        path {
          transition: fill .3s ease;
        }
      }
      @media (any-hover: hover){
        &:hover{
          background-color: var(--white);
          svg {
            path {
              fill: var(--red);
            }
          }
        }
      }
		}
}

